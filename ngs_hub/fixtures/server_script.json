[
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2025-06-27 01:53:20.100767",
  "module": "NGS Hub",
  "name": "Send Email on SingleCell LIB QC PASS",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "NGS SingleCell Library Construction",
  "script": "if doc.qc_status == \"PASS\" and doc.customer:\r\n    customer = frappe.get_doc(\"NGS Customer\", doc.customer)\r\n    sample_link = \"\"\r\n    if doc.sample_info:\r\n        sample_link = frappe.utils.get_url_to_form(\"NGS Sample Info\", doc.sample_info)\r\n    if customer.email:\r\n        subject = \"Your Library QC Status: PASS\"\r\n        message = f\"\"\"<!DOCTYPE html>\r\n<html>\r\n  <body style=\"font-family: Arial, sans-serif; color: #333; line-height: 1.6; padding: 20px;\">\r\n    <div style=\"max-width: 600px; margin: auto; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;\">\r\n      \r\n      <h2 style=\"color: #0066cc;\">QC Status: PASS</h2>\r\n\r\n      <p>Dear {customer.customer_name},</p>\r\n\r\n      <p>\r\n        We are pleased to inform you that your single-cell library construction has successfully passed the quality control (QC) process.\r\n      </p>\r\n\r\n      <p>\r\n        You can view the details of your sample information here:<br>\r\n        <a href=\"{sample_link}\" style=\"color: #0066cc;\">View Sample Info ({doc.sample_info})</a>\r\n      </p>\r\n\r\n      <p>\r\n        If you have any questions or need further assistance, feel free to contact us.\r\n      </p>\r\n\r\n      <p style=\"margin-top: 40px;\">\r\n        Best regards,<br>\r\n        Your Athenomics Lab Team\r\n      </p>\r\n\r\n    </div>\r\n  </body>\r\n</html>\"\"\"\r\n        frappe.sendmail(\r\n            recipients=[customer.email],\r\n            subject=subject,\r\n            message=message\r\n        )\r\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2025-06-27 01:53:36.864528",
  "module": "NGS Hub",
  "name": "Send Email on RNAseq LIB QC PASS",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "NGS RNAseq Library Construction",
  "script": "if doc.qc_status == \"PASS\" and doc.customer:\r\n    customer = frappe.get_doc(\"NGS Customer\", doc.customer)\r\n    sample_link = \"\"\r\n    if doc.sample_info:\r\n        sample_link = frappe.utils.get_url_to_form(\"NGS Sample Info\", doc.sample_info)\r\n    if customer.email:\r\n        subject = \"Your Library QC Status: PASS\"\r\n        message = f\"\"\"<!DOCTYPE html>\r\n<html>\r\n  <body style=\"font-family: Arial, sans-serif; color: #333; line-height: 1.6; padding: 20px;\">\r\n    <div style=\"max-width: 600px; margin: auto; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;\">\r\n      \r\n      <h2 style=\"color: #0066cc;\">QC Status: PASS</h2>\r\n\r\n      <p>Dear {customer.customer_name},</p>\r\n\r\n      <p>\r\n        We are pleased to inform you that your RNAseq library construction has successfully passed the quality control (QC) process.\r\n      </p>\r\n\r\n      <p>\r\n        You can view the details of your sample information here:<br>\r\n        <a href=\"{sample_link}\" style=\"color: #0066cc;\">View Sample Info ({doc.sample_info})</a>\r\n      </p>\r\n\r\n      <p>\r\n        If you have any questions or need further assistance, feel free to contact us.\r\n      </p>\r\n\r\n      <p style=\"margin-top: 40px;\">\r\n        Best regards,<br>\r\n        Your Athenomics Lab Team\r\n      </p>\r\n\r\n    </div>\r\n  </body>\r\n</html>\"\"\"\r\n        frappe.sendmail(\r\n            recipients=[customer.email],\r\n            subject=subject,\r\n            message=message\r\n        )\r\n",
  "script_type": "DocType Event"
 },
 {
  "allow_guest": 0,
  "api_method": null,
  "cron_format": null,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Server Script",
  "doctype_event": "After Submit",
  "enable_rate_limit": 0,
  "event_frequency": "All",
  "modified": "2025-06-27 01:53:28.546839",
  "module": "NGS Hub",
  "name": "Send Email on Meta LIB QC PASS",
  "rate_limit_count": 5,
  "rate_limit_seconds": 86400,
  "reference_doctype": "NGS Meta Library Construction",
  "script": "if doc.qc_status == \"PASS\" and doc.customer:\r\n    customer = frappe.get_doc(\"NGS Customer\", doc.customer)\r\n    sample_link = \"\"\r\n    if doc.sample_info:\r\n        sample_link = frappe.utils.get_url_to_form(\"NGS Sample Info\", doc.sample_info)\r\n    if customer.email:\r\n        subject = \"Your Library QC Status: PASS\"\r\n        message = f\"\"\"<!DOCTYPE html>\r\n<html>\r\n  <body style=\"font-family: Arial, sans-serif; color: #333; line-height: 1.6; padding: 20px;\">\r\n    <div style=\"max-width: 600px; margin: auto; border: 1px solid #e0e0e0; border-radius: 8px; padding: 20px;\">\r\n      \r\n      <h2 style=\"color: #0066cc;\">QC Status: PASS</h2>\r\n\r\n      <p>Dear {customer.customer_name},</p>\r\n\r\n      <p>\r\n        We are pleased to inform you that your Meta library construction has successfully passed the quality control (QC) process.\r\n      </p>\r\n\r\n      <p>\r\n        You can view the details of your sample information here:<br>\r\n        <a href=\"{sample_link}\" style=\"color: #0066cc;\">View Sample Info ({doc.sample_info})</a>\r\n      </p>\r\n\r\n      <p>\r\n        If you have any questions or need further assistance, feel free to contact us.\r\n      </p>\r\n\r\n      <p style=\"margin-top: 40px;\">\r\n        Best regards,<br>\r\n        Your Athenomics Lab Team\r\n      </p>\r\n\r\n    </div>\r\n  </body>\r\n</html>\"\"\"\r\n        frappe.sendmail(\r\n            recipients=[customer.email],\r\n            subject=subject,\r\n            message=message\r\n        )\r\n",
  "script_type": "DocType Event"
 }
]